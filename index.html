<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù…ØªØ¬Ø± Ø§Ù„Ù†Ø®Ø¨Ø© | Elite Store</title>
    
    <!-- Ø®Ø· 'Readex Pro' Ø§Ù„Ø¹ØµØ±ÙŠ Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© -->
    <link href="https://fonts.googleapis.com/css2?family=Readex+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Ø®Ø±Ø§Ø¦Ø· Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <style>
        :root {
            --primary: #2563eb;       /* Ø£Ø²Ø±Ù‚ Ù…Ù„ÙƒÙŠ */
            --primary-dark: #1e40af;
            --accent: #f59e0b;        /* Ø°Ù‡Ø¨ÙŠ */
            --bg: #f8fafc;
            --surface: #ffffff;
            --text: #0f172a;
            --gray: #64748b;
            --radius: 20px;
            --shadow: 0 10px 30px -10px rgba(37, 99, 235, 0.15);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Readex Pro', sans-serif; }
        
        body { margin: 0; background-color: var(--bg); color: var(--text); min-height: 100vh; display: flex; justify-content: center; }
        
        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØªØ´Ø¨Ù‡ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        .app-shell {
            width: 100%; max-width: 500px; background: var(--surface);
            min-height: 100vh; position: relative;
            box-shadow: 0 0 50px rgba(0,0,0,0.05); overflow-x: hidden;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header {
            padding: 20px; display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 50; background: rgba(255,255,255,0.8);
            backdrop-filter: blur(12px); border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .logo { font-weight: 700; font-size: 1.2rem; color: var(--primary); display: flex; align-items: center; gap: 8px; }
        .settings-btn { background: none; border: none; font-size: 1.2rem; color: var(--gray); cursor: pointer; transition: 0.3s; }
        .settings-btn:hover { color: var(--primary); transform: rotate(90deg); }

        /* Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¹Ø§Ù…Ø© */
        .container { padding: 20px; animation: slideUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); }
        
        /* ÙƒØ§Ø±Øª Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© */
        .upload-card {
            background: linear-gradient(145deg, #eff6ff, #fff);
            border: 2px dashed #cbd5e1; border-radius: var(--radius);
            height: 200px; display: flex; flex-direction: column;
            align-items: center; justify-content: center; text-align: center;
            margin-bottom: 25px; cursor: pointer; position: relative; overflow: hidden;
            transition: 0.3s;
        }
        .upload-card:hover { border-color: var(--primary); background: #f1f5f9; }
        .upload-card img { width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; display: none; }
        .upload-icon { font-size: 40px; color: #94a3b8; margin-bottom: 10px; }

        /* Ø§Ù„Ø­Ù‚ÙˆÙ„ */
        .form-group { margin-bottom: 20px; position: relative; }
        .form-input {
            width: 100%; padding: 16px 20px 16px 50px;
            border: 1px solid #e2e8f0; border-radius: 16px;
            font-size: 1rem; background: #f8fafc; outline: none; transition: 0.3s;
        }
        .form-input:focus { border-color: var(--primary); background: #fff; box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1); }
        .input-icon { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); color: #94a3b8; }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            width: 100%; padding: 18px; border: none; border-radius: 16px;
            font-size: 1rem; font-weight: 600; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            transition: 0.2s; position: relative; overflow: hidden;
        }
        .btn-primary { background: var(--primary); color: white; box-shadow: 0 10px 20px -5px rgba(37, 99, 235, 0.3); }
        .btn-whatsapp { background: #25D366; color: white; box-shadow: 0 10px 20px -5px rgba(37, 211, 102, 0.3); }
        .btn:active { transform: scale(0.98); }

        /* Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø²Ø¨ÙˆÙ† */
        .product-hero { 
            width: 100%; height: 350px; position: relative; 
            border-bottom-left-radius: 30px; border-bottom-right-radius: 30px; 
            overflow: hidden; box-shadow: 0 20px 40px -10px rgba(0,0,0,0.1);
        }
        .product-hero img { width: 100%; height: 100%; object-fit: cover; }
        .price-badge {
            position: absolute; bottom: 20px; left: 20px;
            background: rgba(255, 255, 255, 0.95); padding: 8px 20px;
            border-radius: 30px; font-weight: 700; color: var(--primary);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); backdrop-filter: blur(5px);
        }

        /* Ø§Ù„Ø®Ø±ÙŠØ·Ø© */
        #map { height: 250px; border-radius: 16px; margin-bottom: 15px; border: 2px solid #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 1000; display: flex;
            align-items: center; justify-content: center; backdrop-filter: blur(5px);
        }
        .modal-content {
            background: white; padding: 25px; border-radius: 25px; width: 90%; max-width: 400px;
            animation: slideUp 0.3s ease;
        }

        /* Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        .toast {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px);
            background: #1e293b; color: white; padding: 12px 24px; border-radius: 50px;
            font-size: 0.9rem; z-index: 2000; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            opacity: 0; box-shadow: 0 10px 20px rgba(0,0,0,0.2); display: flex; align-items: center; gap: 10px;
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="app-shell">
    
    <!-- ================= ÙˆØ¶Ø¹ Ø§Ù„ØªØ§Ø¬Ø± ================= -->
    <div id="sellerSection" class="hidden">
        <div class="header">
            <div class="logo"><i class="fas fa-gem"></i> Ù…ØªØ¬Ø± Ø§Ù„Ù†Ø®Ø¨Ø©</div>
            <button class="settings-btn" onclick="openSettings()"><i class="fas fa-cog"></i></button>
        </div>

        <div class="container">
            <h2 style="margin-top: 0;">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ âœ¨</h2>
            <p style="color: var(--gray); font-size: 0.9rem; margin-bottom: 25px;">Ù‚Ù… Ø¨Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ§Ù…Ù„Ø£ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ø°ÙƒÙŠ.</p>

            <div class="upload-card" onclick="document.getElementById('fileInput').click()">
                <div id="uploadPlaceholder">
                    <i class="fas fa-cloud-upload-alt upload-icon"></i>
                    <p style="margin: 0; font-weight: 500;">Ø§Ø¶ØºØ· Ù„Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©</p>
                    <small style="color: var(--gray);">Ø£Ùˆ Ø§Ù„ØªÙ‚Ø· ØµÙˆØ±Ø© Ø¨Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</small>
                </div>
                <img id="previewImg">
                <input type="file" id="fileInput" accept="image/*" class="hidden" onchange="previewFile()">
            </div>

            <div class="form-group">
                <i class="fas fa-tag input-icon"></i>
                <input type="text" id="pName" class="form-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
            </div>

            <div class="form-group">
                <i class="fas fa-money-bill-wave input-icon"></i>
                <input type="number" id="pPrice" class="form-input" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ø¯ÙŠÙ†Ø§Ø±)">
            </div>

            <div class="form-group">
                <i class="fas fa-align-right input-icon"></i>
                <textarea id="pDesc" class="form-input" rows="2" placeholder="ØªÙØ§ØµÙŠÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" style="padding-top: 15px;"></textarea>
            </div>

            <button id="createBtn" class="btn btn-primary" onclick="generateLink()">
                <span>Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨</span> <i class="fas fa-arrow-left"></i>
            </button>
        </div>
    </div>

    <!-- ================= ÙˆØ¶Ø¹ Ø§Ù„Ø²Ø¨ÙˆÙ† ================= -->
    <div id="customerSection" class="hidden">
        <div class="product-hero">
            <img id="cImg" src="https://via.placeholder.com/500">
            <div class="price-badge" id="cPrice">0 Ø¯.Ø¹</div>
            <div style="position: absolute; top: 20px; right: 20px; background: white; padding: 10px; border-radius: 50%; cursor: pointer;" onclick="sharePage()">
                <i class="fas fa-share-alt" style="color: var(--text);"></i>
            </div>
        </div>

        <div class="container" style="border-top-left-radius: 30px; border-top-right-radius: 30px; margin-top: -30px; background: var(--surface); position: relative; padding-top: 30px;">
            <h1 id="cName" style="margin: 0 0 10px 0; font-size: 1.5rem;">...</h1>
            <p id="cDesc" style="color: var(--gray); line-height: 1.6; margin-bottom: 30px;">...</p>

            <h4 style="margin-bottom: 15px;">Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h4>

            <div class="form-group">
                <i class="fas fa-user input-icon"></i>
                <input type="text" id="custName" class="form-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
            </div>
            <div class="form-group">
                <i class="fas fa-phone input-icon"></i>
                <input type="tel" id="custPhone" class="form-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
            </div>
            
            <label style="font-weight: 600; margin-bottom: 10px; display: block;">ğŸ“ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</label>
            <div style="position: relative;">
                <div id="map"></div>
                <button onclick="locateMe()" style="position: absolute; bottom: 30px; left: 10px; z-index: 500; background: white; border: none; padding: 8px 12px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); font-weight: bold; cursor: pointer;">
                    <i class="fas fa-crosshairs" style="color: var(--primary);"></i> Ù…ÙˆÙ‚Ø¹ÙŠ
                </button>
            </div>
            <textarea id="custAddress" class="form-input" rows="2" placeholder="Ø£Ù‚Ø±Ø¨ Ù†Ù‚Ø·Ø© Ø¯Ø§Ù„Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></textarea>

            <button onclick="sendOrder('whatsapp')" class="btn btn-whatsapp" style="margin-top: 20px;">
                <i class="fab fa-whatsapp" style="font-size: 1.2rem;"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†
            </button>
        </div>
    </div>

</div>

<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Ù„Ù„Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ù„ÙŠ) -->
<div id="settingsModal" class="modal hidden">
    <div class="modal-content">
        <h3 style="text-align: center;">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ§Ø¬Ø±</h3>
        <p style="font-size: 0.8rem; color: var(--gray); text-align: center;">ÙŠØªÙ… Ø­ÙØ¸ Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø¬Ù‡Ø§Ø²Ùƒ ÙÙ‚Ø·</p>
        
        <label style="font-weight: bold;">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª:</label>
        <input type="text" id="settingPhone" class="form-input" placeholder="964750xxxxxxx" style="margin: 10px 0;">
        
        <label style="font-weight: bold;">API Key (ImgBB):</label>
        <input type="text" id="settingKey" class="form-input" value="6d207e02198a847aa98d0a2a901485a5" style="margin: 10px 0;">
        
        <button class="btn btn-primary" onclick="saveSettings()">Ø­ÙØ¸ ÙˆØ¥ØºÙ„Ø§Ù‚</button>
    </div>
</div>

<!-- Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª -->
<div id="toast" class="toast"><i class="fas fa-check-circle"></i> <span>ØªÙ… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­</span></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
    let map, marker, selectedLat, selectedLng;
    let uploadedImgUrl = "";
    
    // Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    let config = {
        phone: localStorage.getItem('merchantPhone') || "9647503727069",
        apiKey: localStorage.getItem('imgbbKey') || "6d207e02198a847aa98d0a2a901485a5"
    };

    // Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
    window.onload = function() {
        const params = new URLSearchParams(window.location.search);
        if (params.has('p')) {
            // ÙˆØ¶Ø¹ Ø§Ù„Ø²Ø¨ÙˆÙ†
            document.getElementById('customerSection').classList.remove('hidden');
            loadCustomerView(params);
        } else {
            // ÙˆØ¶Ø¹ Ø§Ù„ØªØ§Ø¬Ø±
            document.getElementById('sellerSection').classList.remove('hidden');
        }
    };

    // --- Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ§Ø¬Ø± ---
    function openSettings() {
        document.getElementById('settingPhone').value = config.phone;
        document.getElementById('settingKey').value = config.apiKey;
        document.getElementById('settingsModal').classList.remove('hidden');
    }

    function saveSettings() {
        const phone = document.getElementById('settingPhone').value;
        const key = document.getElementById('settingKey').value;
        if(phone) {
            localStorage.setItem('merchantPhone', phone);
            localStorage.setItem('imgbbKey', key);
            config.phone = phone;
            config.apiKey = key;
            showToast("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­");
            document.getElementById('settingsModal').classList.add('hidden');
        }
    }

    function previewFile() {
        const file = document.getElementById('fileInput').files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('previewImg').src = e.target.result;
                document.getElementById('previewImg').style.display = 'block';
                document.getElementById('uploadPlaceholder').style.display = 'none';
            }
            reader.readAsDataURL(file);
        }
    }

    async function generateLink() {
        const name = document.getElementById('pName').value;
        const price = document.getElementById('pPrice').value;
        const desc = document.getElementById('pDesc').value;
        const file = document.getElementById('fileInput').files[0];
        const btn = document.getElementById('createBtn');

        if (!name || !price) {
            showToast("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø³Ø¹Ø±", true);
            return;
        }

        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...';
        btn.disabled = true;

        let imgLink = "https://placehold.co/600x400?text=No+Image";

        // Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©
        if (file) {
            const formData = new FormData();
            formData.append("image", file);
            try {
                const res = await fetch(`https://api.imgbb.com/1/upload?key=${config.apiKey}`, { method: "POST", body: formData });
                const data = await res.json();
                if (data.success) imgLink = data.data.url;
            } catch (e) {
                console.error(e);
                showToast("ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª", true);
            }
        }

        const url = `${window.location.origin}${window.location.pathname}?p=${encodeURIComponent(name)}&pr=${price}&d=${encodeURIComponent(desc)}&i=${encodeURIComponent(imgLink)}`;
        
        // Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        navigator.clipboard.writeText(url).then(() => {
            showToast("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·! Ø£Ø±Ø³Ù„Ù‡ Ù„Ù„Ø²Ø¨ÙˆÙ† ğŸš€");
            btn.innerHTML = '<span>ØªÙ… Ø§Ù„Ù†Ø³Ø®! Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙŠØ¯</span> <i class="fas fa-check"></i>';
            btn.style.background = "#10b981";
            setTimeout(() => {
                btn.innerHTML = '<span>Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨</span> <i class="fas fa-arrow-left"></i>';
                btn.style.background = "";
                btn.disabled = false;
            }, 3000);
        });
    }

    // --- Ù…Ù†Ø·Ù‚ Ø§Ù„Ø²Ø¨ÙˆÙ† ---
    function loadCustomerView(params) {
        document.getElementById('cName').innerText = params.get('p');
        document.getElementById('cPrice').innerText = Number(params.get('pr')).toLocaleString() + ' Ø¯.Ø¹';
        document.getElementById('cDesc').innerText = params.get('d') || "Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ©";
        document.getElementById('cImg').src = params.get('i');
        uploadedImgUrl = params.get('i');

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø®Ø±ÙŠØ·Ø©
        setTimeout(() => {
            map = L.map('map').setView([33.3152, 44.3661], 10);
            L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
                attribution: '&copy; OpenStreetMap'
            }).addTo(map);

            map.on('click', function(e) {
                setMarker(e.latlng.lat, e.latlng.lng);
            });
        }, 500);
    }

    function locateMe() {
        if (navigator.geolocation) {
            showToast("Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ...");
            navigator.geolocation.getCurrentPosition(pos => {
                const lat = pos.coords.latitude;
                const lng = pos.coords.longitude;
                map.setView([lat, lng], 16);
                setMarker(lat, lng);
                showToast("ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ Ø¨Ø¯Ù‚Ø© âœ…");
            }, () => showToast("ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹", true));
        }
    }

    function setMarker(lat, lng) {
        if (marker) map.removeLayer(marker);
        marker = L.marker([lat, lng]).addTo(map);
        selectedLat = lat;
        selectedLng = lng;
    }

    function sendOrder() {
        const name = document.getElementById('custName').value;
        const phone = document.getElementById('custPhone').value;
        const address = document.getElementById('custAddress').value;
        
        if (!name || !phone) {
            showToast("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ", true);
            return;
        }

        const mapLink = selectedLat ? `https://www.google.com/maps?q=${selectedLat},${selectedLng}` : "Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ¯";
        const product = document.getElementById('cName').innerText;
        const price = document.getElementById('cPrice').innerText;

        const msg = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (Web Order) ğŸ›ï¸*
â”â”â”â”â”â”â”â”â”â”â”â”
*ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬:* ${product}
*ğŸ’µ Ø§Ù„Ø³Ø¹Ø±:* ${price}
*ğŸ–¼ Ø§Ù„ØµÙˆØ±Ø©:* ${uploadedImgUrl}
â”â”â”â”â”â”â”â”â”â”â”â”
*ğŸ‘¤ Ø§Ù„Ø²Ø¨ÙˆÙ†:* ${name}
*ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}
*ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª/Ø¯Ø§Ù„Ø©:* ${address}
*ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹:* ${mapLink}`;

        const url = `https://wa.me/${config.phone}?text=${encodeURIComponent(msg)}`;
        window.open(url, '_blank');
    }

    function showToast(msg, isError = false) {
        const toast = document.getElementById('toast');
        toast.innerHTML = `<i class="${isError ? 'fas fa-exclamation-circle' : 'fas fa-check-circle'}"></i> <span>${msg}</span>`;
        toast.style.background = isError ? "#ef4444" : "#1e293b";
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 3000);
    }
    
    function sharePage() {
        if (navigator.share) {
            navigator.share({
                title: document.title,
                url: window.location.href
            });
        } else {
            showToast("Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ù†Ø³ÙˆØ® Ø¨Ø§Ù„ÙØ¹Ù„");
        }
    }
</script>

</body>
</html>