<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dikana Online | Ø¯Ú©Ø§Ù†Û• Ø¦Û†Ù†Ù„Ø§ÛŒÙ†</title>
    
    <!-- Bootstrap 5 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
    
    <!-- Font: Noto Kufi Arabic -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@100..900&display=swap" rel="stylesheet">
    
    <!-- Icons & Map -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <style>
        :root {
            --primary-color: #6366f1;
            --bg-body: #f3f4f6;
        }

        body {
            font-family: 'Noto Kufi Arabic', sans-serif;
            background-color: var(--bg-body);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            padding-bottom: 50px;
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù‡Ø§ØªÙ */
        .mobile-frame {
            width: 100%;
            max-width: 480px;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
            position: relative;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .app-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* ÙƒØ§Ø±Øª Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± */
        .upload-area {
            border: 2px dashed #dee2e6;
            border-radius: 20px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
            background: #f8f9fa;
            position: relative;
            overflow: hidden;
        }
        .upload-area:hover { border-color: var(--primary-color); background: #eef2ff; }
        .upload-area img {
            width: 100%; height: 100%; object-fit: cover;
            position: absolute; top: 0; left: 0; display: none; border-radius: 18px;
        }

        /* ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø²Ø¨ÙˆÙ† */
        .product-hero {
            height: 350px;
            width: 100%;
            position: relative;
        }
        .product-hero img {
            width: 100%; height: 100%; object-fit: cover;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
        }
        .price-badge {
            position: absolute; bottom: 20px; right: 20px;
            background: rgba(255,255,255,0.9);
            padding: 8px 20px; border-radius: 50px;
            font-weight: 800; color: var(--primary-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* Ø§Ù„Ø®Ø±ÙŠØ·Ø© */
        #map { height: 200px; border-radius: 15px; width: 100%; z-index: 1; }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙƒÙ…ÙŠØ© */
        .qty-btn {
            width: 35px; height: 35px;
            border-radius: 50%; border: none;
            background: #f1f5f9; color: var(--primary-color);
            font-weight: bold; display: flex; align-items: center; justify-content: center;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .progress { height: 5px; position: absolute; bottom: 0; left: 0; width: 100%; }

        .btn-primary-custom {
            background: var(--primary-color); border: none;
            padding: 15px; border-radius: 15px; font-weight: 700; width: 100%; color: white;
            box-shadow: 0 10px 20px -5px rgba(99, 102, 241, 0.4);
        }
        .btn-whatsapp {
            background: #25D366; border: none; color: white;
            padding: 15px; border-radius: 15px; font-weight: 700; width: 100%;
            box-shadow: 0 10px 20px -5px rgba(37, 211, 102, 0.4);
        }
    </style>
</head>
<body>

<div class="mobile-frame">
    
    <!-- ================= Ù‚Ø³Ù… Ø§Ù„ØªØ§Ø¬Ø± ================= -->
    <div id="merchantView" class="d-none">
        <div class="app-header">
            <div class="h5 m-0 fw-bold text-primary"><i class="fas fa-store"></i> Ø¯Ú©Ø§Ù†Û• Ø¦Û†Ù†Ù„Ø§ÛŒÙ†</div>
        </div>

        <div class="container py-4">
            <h4 class="fw-bold mb-3">Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ù†Ø§ Ù„ÛŒÙ†Ú©ÛŒ ğŸ”—</h4>
            <p class="text-muted small mb-4">ÙˆÛÙ†Û•ÛŒÛ•Ú©Û Ø¨Ø§Ø±Ú©Û• Ùˆ Ù¾ÛØ²Ø§Ù†ÛŒÙ†Ø§ Ø¨Ù†Ú¤ÛŒØ³Û•.</p>

            <div class="upload-area mb-4" onclick="document.getElementById('fileInput').click()">
                <div class="progress d-none" id="uploadProgressBox">
                    <div class="progress-bar bg-success" id="uploadBar" style="width: 0%"></div>
                </div>
                <div id="uploadPlaceholder">
                    <i class="fas fa-cloud-upload-alt fa-3x text-secondary mb-3"></i>
                    <h6 class="fw-bold">Ù„ÛØ±Û• Ú©Ù„ÛŒÚ© Ø¨Ú©Û• Ø¨Û† Ø¨Ø§Ø±Ú©Ø±Ù†Ø§ ÙˆÛÙ†Û•ÛŒ</h6>
                    <small class="text-muted">Ú©Ø§Ù…ÛŒØ±Û• ÛŒØ§Ù† Ø³ØªÛ†Ø¯ÛŒÛ†</small>
                </div>
                <img id="previewImg">
                <input type="file" id="fileInput" accept="image/*" class="d-none" onchange="handleImageUpload()">
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold small">Ù†Ø§Ú¤Û Ø¨Û•Ø±Ù‡Û•Ù…ÛŒ</label>
                <input type="text" id="pName" class="form-control form-control-lg bg-light border-0" placeholder="...">
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold small">Ø¨Ù‡Ø§ (Ø¯ÛŒÙ†Ø§Ø±)</label>
                <input type="number" id="pPrice" class="form-control form-control-lg bg-light border-0" placeholder="25000">
            </div>

            <div class="mb-4">
                <label class="form-label fw-bold small">Ù¾ÛØ²Ø§Ù†ÛŒÙ† (Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ø¨Ù†)</label>
                <textarea id="pDesc" class="form-control bg-light border-0" rows="3"></textarea>
            </div>

            <button onclick="generateLink()" class="btn-primary-custom">
                Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ù†Ø§ Ù„ÛŒÙ†Ú©ÛŒ <i class="fas fa-arrow-left ms-2"></i>
            </button>
        </div>
    </div>

    <!-- ================= Ù‚Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ† ================= -->
    <div id="customerView" class="d-none">
        <div class="product-hero">
            <img id="cImg" src="">
            <div class="price-badge h5 mb-0" id="cPriceBadge">0 Ø¯.Ø¹</div>
        </div>

        <div class="container" style="position: relative; top: -30px;">
            <!-- ÙƒØ§Ø±Øª Ø§Ù„ØªÙØ§ØµÙŠÙ„ -->
            <div class="card border-0 shadow-sm rounded-4 p-3 mb-3">
                <div class="d-flex justify-content-between align-items-start">
                    <h4 id="cName" class="fw-bold mb-0">...</h4>
                    
                    <!-- Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙƒÙ…ÙŠØ© -->
                    <div class="d-flex align-items-center bg-light rounded-pill p-1">
                        <button class="qty-btn" onclick="updateQty(-1)"><i class="fas fa-minus small"></i></button>
                        <span id="qtyDisplay" class="mx-3 fw-bold">1</span>
                        <button class="qty-btn" onclick="updateQty(1)"><i class="fas fa-plus small"></i></button>
                    </div>
                </div>
                <p id="cDesc" class="text-muted mt-2 small">...</p>
            </div>

            <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ÙˆØ§Ù„ØªÙˆØµÙŠÙ„ -->
            <div class="card border-0 shadow-sm rounded-4 p-3 mb-3 bg-white">
                <label class="fw-bold mb-2 small"><i class="fas fa-map-marker-alt text-primary"></i> Ø¨Ø§Ú˜ÛØ±Û Ø®Û† Ù‡Û•Ù„Ø¨Ú˜ÛØ±Û• (Ú¯Û•Ù‡Ø§Ù†Ø¯Ù†)</label>
                <select id="citySelect" class="form-select form-select-lg bg-light border-0 fw-bold text-dark" onchange="updateTotal()">
                    <option value="3000" selected>Ø²Ø§Ø®Û† / Ø¯Ù‡Û†Ú© (3,000 Ø¯.Ø¹)</option>
                    <option value="5000">Ù‡Û•ÙˆÙ„ÛØ± / Ø³Ù„ÛÙ…Ø§Ù†ÛŒ (5,000 Ø¯.Ø¹)</option>
                    <option value="10000">Ø¨Ø§Ú˜ÛØ±ÛÙ† Ø¯ÛŒ ÛŒÛÙ† Ø¹ÛØ±Ø§Ù‚Û (10,000 Ø¯.Ø¹)</option>
                </select>
            </div>

            <!-- Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø§Ù„ÙŠ -->
            <div class="card border-0 shadow-sm rounded-4 p-3 mb-4 bg-primary text-white">
                <div class="d-flex justify-content-between mb-2 small">
                    <span>Ø¨Û•Ø±Ù‡Û•Ù… x <span id="sQty">1</span></span>
                    <span id="sPrice">0</span>
                </div>
                <div class="d-flex justify-content-between mb-2 small">
                    <span>Ú¯Û•Ù‡Ø§Ù†Ø¯Ù†</span>
                    <span id="sDelivery">3,000</span>
                </div>
                <hr class="my-2" style="opacity: 0.3;">
                <div class="d-flex justify-content-between fw-bold h5 mb-0">
                    <span>Ø³Û•Ø±Ø¬Û•Ù… (Ú©Û†ÛŒ Ú¯Ø´ØªÛŒ)</span>
                    <span id="sTotal">0</span>
                </div>
            </div>

            <h5 class="fw-bold mb-3">Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛÙ† ÙˆÛ•Ø±Ú¯Ø±ØªÙ†Û</h5>
            
            <div class="mb-3">
                <input type="text" id="custName" class="form-control form-control-lg bg-light border-0" placeholder="Ù†Ø§Ú¤Û Ø³ÛŒØ§Ù†ÛŒ">
            </div>
            <div class="mb-3">
                <input type="tel" id="custPhone" class="form-control form-control-lg bg-light border-0" placeholder="Ú˜Ù…Ø§Ø±Ø§ ØªÛ•Ù„Û•ÙÛ†Ù†Û (0750...)">
            </div>

            <div class="card border-0 p-2 mb-3 bg-light rounded-4">
                <div class="d-flex justify-content-between align-items-center mb-2 px-2">
                    <span class="small fw-bold text-muted">Ù„ Ø³Û•Ø± Ù†Û•Ø®Ø´Û•ÛŒ Ø¯ÛŒØ§Ø± Ø¨Ú©Û•</span>
                    <button onclick="getMyLocation()" class="btn btn-sm btn-outline-primary rounded-pill">
                        <i class="fas fa-crosshairs"></i> Ø¬Ù‡Û Ù…Ù†
                    </button>
                </div>
                <div id="map"></div>
            </div>

            <input type="text" id="custAddress" class="form-control bg-light border-0 mb-4" placeholder="Ù†ÛØ²ÛŒÚ©ØªØ±ÛŒÙ† Ù†ÛŒØ´Ø§Ù† (Ù…Ø²Ú¯Û•ÙØªØŒ Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•...)">

            <button onclick="sendOrder()" class="btn-whatsapp mb-3">
                <i class="fab fa-whatsapp fa-lg"></i> ÙØ±ÛÚ©Ø±Ù†Ø§ Ø¯Ø§Ø®ÙˆØ§Ø²ÛŒÛ
            </button>
        </div>
    </div>

</div>

<!-- Ø¥Ø´Ø¹Ø§Ø± Ù…Ù†Ø¨Ø«Ù‚ -->
<div class="position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 2000">
    <div id="liveToast" class="toast align-items-center text-white bg-dark border-0 rounded-pill px-3" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body d-flex align-items-center gap-2">
                <i class="fas fa-info-circle"></i> <span id="toastMsg">...</span>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    // ================= Ø«ÙˆØ§Ø¨Øª Ø§Ù„Ù†Ø¸Ø§Ù… =================
    const MERCHANT_PHONE = "9647503727069"; // Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø«Ø§Ø¨Øª Ù„Ù„ØªØ§Ø¬Ø±
    const API_KEY = "6d207e02198a847aa98d0a2a901485a5"; // Ù…ÙØªØ§Ø­ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±

    let productData = { img: '', name: '', price: 0, desc: '' };
    let orderData = { qty: 1, lat: null, lng: null };
    let map, marker;

    // Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    window.onload = function() {
        const params = new URLSearchParams(window.location.search);
        if (params.has('p')) {
            // ÙˆØ¶Ø¹ Ø§Ù„Ø²Ø¨ÙˆÙ†
            document.getElementById('customerView').classList.remove('d-none');
            loadCustomer(params);
        } else {
            // ÙˆØ¶Ø¹ Ø§Ù„ØªØ§Ø¬Ø±
            document.getElementById('merchantView').classList.remove('d-none');
        }
    };

    // ---------------- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ§Ø¬Ø± ----------------
    async function handleImageUpload() {
        const file = document.getElementById('fileInput').files[0];
        if (!file) return;

        // Ù…Ø¹Ø§ÙŠÙ†Ø©
        const reader = new FileReader();
        reader.onload = e => {
            document.getElementById('previewImg').src = e.target.result;
            document.getElementById('previewImg').style.display = 'block';
            document.getElementById('uploadPlaceholder').style.display = 'none';
        };
        reader.readAsDataURL(file);

        // Ø±ÙØ¹
        const formData = new FormData();
        formData.append("image", file);
        
        document.getElementById('uploadProgressBox').classList.remove('d-none');
        const progressBar = document.getElementById('uploadBar');
        progressBar.style.width = "40%";

        try {
            const res = await fetch(`https://api.imgbb.com/1/upload?key=${API_KEY}`, { method: "POST", body: formData });
            const data = await res.json();
            progressBar.style.width = "100%";
            
            if (data.success) {
                productData.img = data.data.url;
                showToast("ÙˆÛÙ†Û• Ø¨ Ø³Û•Ø±Ú©Û•ÙØªÛŒØ§Ù†Û• Ù‡Ø§ØªÛ• Ø¨Ø§Ø±Ú©Ø±Ù† âœ…");
            }
        } catch (e) {
            showToast("Ú©ÛØ´Û•ÛŒÛ•Ú© Ù„ Ø¨Ø§Ø±Ú©Ø±Ù†Ø§ ÙˆÛÙ†Û•ÛŒ Ø¯Ø§ Ù‡Û•ÛŒÛ• âŒ");
        }
    }

    function generateLink() {
        const name = document.getElementById('pName').value.trim();
        const price = document.getElementById('pPrice').value;
        const desc = document.getElementById('pDesc').value;

        if (!name || !price) {
            showToast("Ù‡ÛŒÚ¤ÛŒÛ• Ù†Ø§Ú¤ Ùˆ Ø¨Ù‡Ø§ÛŒÛ Ø¨Û•Ø±Ù‡Û•Ù…ÛŒ Ø¨Ù†Ú¤ÛŒØ³Û•!");
            return;
        }

        const imgUrl = productData.img || "https://placehold.co/600x400/png?text=No+Image";
        
        // Ù„Ø§ Ù†Ø­ØªØ§Ø¬ Ù„ØªÙ…Ø±ÙŠØ± Ø³Ø¹Ø± Ø§Ù„ØªÙˆØµÙŠÙ„ Ù‡Ù†Ø§ØŒ Ù„Ø£Ù†Ù‡ ÙŠØ­Ø¯Ø¯ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø²Ø¨ÙˆÙ†
        const baseUrl = window.location.href.split('?')[0];
        const link = `${baseUrl}?p=${encodeURIComponent(name)}&pr=${price}&d=${encodeURIComponent(desc)}&i=${encodeURIComponent(imgUrl)}`;

        navigator.clipboard.writeText(link).then(() => {
            showToast("Ù„ÛŒÙ†Ú© Ù‡Ø§ØªÛ• Ú©Û†Ù¾ÛŒÚ©Ø±Ù†! Ø¨Û† Ú©Ø±ÛŒØ§Ø±ÛŒ ÙØ±ÛÚ©Û• ğŸš€");
        });
    }

    // ---------------- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø²Ø¨ÙˆÙ† ----------------
    function loadCustomer(params) {
        productData.name = params.get('p');
        productData.price = parseFloat(params.get('pr'));
        productData.desc = params.get('d');
        productData.img = params.get('i');

        document.getElementById('cName').innerText = productData.name;
        document.getElementById('cPriceBadge').innerText = productData.price.toLocaleString() + ' Ø¯.Ø¹';
        document.getElementById('cDesc').innerText = productData.desc || "";
        document.getElementById('cImg').src = productData.img;
        
        updateTotal();
        initMap();
    }

    function updateQty(change) {
        let newQty = orderData.qty + change;
        if (newQty < 1) return;
        orderData.qty = newQty;
        document.getElementById('qtyDisplay').innerText = newQty;
        document.getElementById('sQty').innerText = newQty;
        updateTotal();
    }

    function updateTotal() {
        // Ù‚Ø±Ø§Ø¡Ø© Ø³Ø¹Ø± Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
        const deliveryPrice = parseInt(document.getElementById('citySelect').value);
        
        const subtotal = productData.price * orderData.qty;
        const total = subtotal + deliveryPrice;

        document.getElementById('sPrice').innerText = subtotal.toLocaleString() + ' Ø¯.Ø¹';
        document.getElementById('sDelivery').innerText = deliveryPrice.toLocaleString() + ' Ø¯.Ø¹';
        document.getElementById('sTotal').innerText = total.toLocaleString() + ' Ø¯.Ø¹';
    }

    // ---------------- Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹ ----------------
    function initMap() {
        // Ø¯Ù‡ÙˆÙƒ ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ
        const defaultLat = 36.8679, defaultLng = 42.9489;
        map = L.map('map').setView([defaultLat, defaultLng], 13);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png').addTo(map);
        marker = L.marker([defaultLat, defaultLng], {draggable: true}).addTo(map);
        
        marker.on('dragend', function(e) {
            const pos = marker.getLatLng();
            orderData.lat = pos.lat;
            orderData.lng = pos.lng;
        });
        map.on('click', function(e) {
            marker.setLatLng(e.latlng);
            orderData.lat = e.latlng.lat;
            orderData.lng = e.latlng.lng;
        });
    }

    function getMyLocation() {
        if (!navigator.geolocation) return showToast("GPS Ú©Ø§Ø± Ù†Ø§Ú©Û•Øª");
        showToast("Ù„ÛÚ¯Û•Ø±ÛŒØ§Ù† Ù„ Ø¬Ù‡Û ØªÛ•...");
        navigator.geolocation.getCurrentPosition(pos => {
            const {latitude, longitude} = pos.coords;
            map.setView([latitude, longitude], 16);
            marker.setLatLng([latitude, longitude]);
            orderData.lat = latitude;
            orderData.lng = longitude;
        }, () => showToast("Ù†Û•Ø´ÛŒØ§Ù… Ø¬Ù‡Û ØªÛ• Ø¯ÛŒØ§Ø± Ø¨Ú©Û•Ù…"));
    }

    // ---------------- Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ----------------
    function sendOrder() {
        const name = document.getElementById('custName').value;
        const phone = document.getElementById('custPhone').value;
        const address = document.getElementById('custAddress').value;
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
        const select = document.getElementById('citySelect');
        const cityName = select.options[select.selectedIndex].text.split('(')[0].trim();
        const deliveryCost = parseInt(select.value);

        if (!name || !phone) {
            showToast("Ù‡ÛŒÚ¤ÛŒÛ• Ù†Ø§Ú¤ Ùˆ Ú˜Ù…Ø§Ø±Ø§ ØªÛ•Ù„Û•ÙÛ†Ù†Û Ø¨Ù†Ú¤ÛŒØ³Û•");
            return;
        }

        const mapLink = orderData.lat ? `https://www.google.com/maps?q=${orderData.lat},${orderData.lng}` : "Ù†Û•Ù‡Ø§ØªÛŒÛ• Ø¯ÛŒØ§Ø±Ú©Ø±Ù†";
        const total = (productData.price * orderData.qty) + deliveryCost;

        const msg = `ğŸ›ï¸ *Ø¯Ø§Ø®ÙˆØ§Ø²ÛŒØ§ Ù†ÙˆÛŒ (Order)*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ *Ø¨Û•Ø±Ù‡Û•Ù…:* ${productData.name}
ğŸ’° *Ø¨Ù‡Ø§:* ${productData.price.toLocaleString()}
ğŸ”¢ *Ù‡Ú˜Ù…Ø§Ø±:* ${orderData.qty}
ğŸ™ï¸ *Ø¨Ø§Ú˜ÛØ±:* ${cityName}
ğŸšš *Ú¯Û•Ù‡Ø§Ù†Ø¯Ù†:* ${deliveryCost.toLocaleString()}
ğŸ’µ *Ø³Û•Ø±Ø¬Û•Ù…:* ${total.toLocaleString()} Ø¯.Ø¹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ *Ù¾ÛØ²Ø§Ù†ÛŒÙ†ÛÙ† Ú©Ø±ÛŒØ§Ø±ÛŒ:*
Ù†Ø§Ú¤: ${name}
ØªÛ•Ù„Û•ÙÛ†Ù†: ${phone}
Ù†ÛŒØ´Ø§Ù†: ${address}
ğŸ“ *Ù„ Ø³Û•Ø± Ù†Û•Ø®Ø´Û•ÛŒ:* ${mapLink}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”— *ÙˆÛÙ†Û•:* ${productData.img}`;

        const url = `https://wa.me/${MERCHANT_PHONE}?text=${encodeURIComponent(msg)}`;
        window.open(url, '_blank');
    }

    function showToast(message) {
        document.getElementById('toastMsg').innerText = message;
        const toastEl = document.getElementById('liveToast');
        const toast = new bootstrap.Toast(toastEl);
        toast.show();
    }
</script>

</body>
</html>